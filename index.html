<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.cdnfonts.com/css/public-pixel" rel="stylesheet">
                
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
</head>
<body>
    <div class="header">
       <h1>Calculator</h1>
    </div>
    <div class="container">
        <div class="calcbody">
            <div class="top">
                <button class="C num">C</button>
                <div class="display">
                    <p id="dpara">0</p>
                </div>
            </div>
            <div class="buttons">
                <button class="7 num">7</button>
                <button class="8 num">8</button>
                <button class="9 num">9</button>
                <button class="+ op num">+</button>
                <button class="4 num">4</button>
                <button class="5 num">5</button>
                <button class="6 num">6</button>
                <button class="- op num">-</button>
                <button class="1 num">1</button>
                <button class="2 num">2</button>
                <button class="3 num">3</button>
                <button class="* op num">*</button>
                <button class=". num">.</button>
                <button class="0 num">0</button>
                <button class="= num">=</button>
                <button class="/ op num">/</button>
                
            </div>

        </div>
    </div>










    <script>
    //variables for the display
    let firstNumber=""
    let operator=""
    let secondNumber=""
    let displayvalue=""
    let res=""

    // Basic math functions
    const add = function (a, b) {
         res = a + b
           return res;
};

    const subtract = function (a, b) {
         res = a - b
        return res;
};
    const multiply = function (a,b) {
         res = a * b
        return res;
};
    const divide = function (a,b){
         res = a / b
        return res;

};
// a function to check for the operator used and call a math eqation based on it
    const operate = function(num1,operator,num2){
        
        if(operator== "+" ){
            return add(num1,num2)
        }
        else if(operator=="-"){
            return subtract(num1,num2)
        }
        else if(operator=="*"){
            return multiply(num1,num2)
        }
        else if(operator=="/"){
            return divide(num1,num2)
        }
    }
    
// Select all buttons with the "num" class, including "C"
const buttons = document.querySelectorAll(".num");
const dpara = document.getElementById("dpara");

buttons.forEach(button => {
    button.addEventListener("click", function () {
        if (button.classList.contains("C")) {
            // Clear the display if the "C" button is clicked
            dpara.textContent = "";
            firstNumber = "";
            secondNumber = "";
            operator = "";
            displayvalue=""
            res=""
        } else if(button.classList.contains("=")) {
            // Call the operate function
            res = operate(firstNumber,operator,secondNumber)
            dpara.textContent=res

        }
        
        else {
            // Otherwise, append the clicked number to the display
            displayvalue= dpara.textContent += button.textContent;
            let parts = displayvalue.split(/([+\-*/])/);
            intparts = parts.map(element=>+element);
            firstNumber = intparts[0];
            operator = parts[1];
            secondNumber = intparts[2];
            
        }
        
    });
});



    </script>
</body>
</html>